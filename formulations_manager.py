"""
–ú–µ–Ω–µ–¥–∂–µ—Ä —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–æ–∫ –∏ —à–∞–±–ª–æ–Ω–æ–≤ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google Sheets –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–æ–∫
"""
import requests
import json
from typing import Dict, List, Optional

class FormulationsManager:
    def __init__(self):
        """–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–æ–∫"""
        self.formulations_sheet_id = "1Gw-NWXaRAo1T9-CwYjEkS7HibFGVgAT8UTa394uosgs"
        self.strategies_sheet_id = "1Gw-NWXaRAo1T9-CwYjEkS7HibFGVgAT8UTa394uosgs"
        
        # –§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π
        self.formulations = self._get_static_formulations()
        
        # –®–∞–±–ª–æ–Ω—ã —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –ø–æ —ç–ª–µ–º–µ–Ω—Ç–∞–º
        self.strategy_templates = self._get_static_strategy_templates()
    
    def _get_static_formulations(self) -> Dict:
        """–°—Ç–∞—Ç–∏—á–Ω—ã–µ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ (fallback)"""
        return {
            'greeting': {
                'start': "üëã ¬´–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –Ø ‚Äî –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –Æ–ª–∏–∏ –°–∫–∏–±—ã –∏ –≤–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –ø–æ –ë–∞–¶–∑—ã. –•–æ—Ç–∏—Ç–µ —É–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ –æ –°–µ–±–µ –∏ –ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª–µ–∑–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏?¬ª",
                'yes_want': "üîÆ *–ë–∞–¶–∑—ã* ‚Äî —ç—Ç–æ –¥—Ä–µ–≤–Ω–µ-–∫–∏—Ç–∞–π—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞—Å—Ç—Ä–æ–ª–æ–≥–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –ª–∏—á–Ω–æ—Å—Ç–∏ –∏ —Å—É–¥—å–±—É –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–∏ —Ä–æ–∂–¥–µ–Ω–∏—è.\n\n–î–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º –í–∞—à—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é –∫–∞—Ä—Ç—É –ë–∞–¶–∑—ã –∏ –æ–ø—Ä–µ–¥–µ–ª–∏–º –≠–ª–µ–º–µ–Ω—Ç –ª–∏—á–Ω–æ—Å—Ç–∏ - —ç—Ç–æ –æ–¥–∏–Ω –∏–∑ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≤–∞—à–∏ —á–µ—Ä—Ç—ã —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏.\n\n–ù–æ —Å–Ω–∞—á–∞–ª–∞ –¥–∞–≤–∞–π—Ç–µ –ø–æ–∑–Ω–∞–∫–æ–º–∏–º—Å—è! üòä"
            },
            'data_collection': {
                'name': "–ö–∞–∫ —Ç–µ–±—è –∑–æ–≤—É—Ç? –ù–∞–ø–∏—à–∏ —Å–≤–æ–µ –∏–º—è:",
                'email': "–ü—Ä–∏—è—Ç–Ω–æ –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è, {name}! üòä\n\n–¢–µ–ø–µ—Ä—å —É–∫–∞–∂–∏ —Å–≤–æ–π —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π –∞–¥—Ä–µ—Å:",
                'phone': "–û—Ç–ª–∏—á–Ω–æ! –¢–µ–ø–µ—Ä—å —É–∫–∞–∂–∏ —Å–≤–æ–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞:",
                'birth_date': "–°–ø–∞—Å–∏–±–æ, {name}! –¢–µ–ø–µ—Ä—å –≤–≤–µ–¥–∏—Ç–µ –¥–∞—Ç—É —Ä–æ–∂–¥–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ –¥–¥.–º–º.–≥–≥–≥–≥:",
                'birth_time': "üïê –ò–∑–≤–µ—Å—Ç–Ω–æ –ª–∏ –≤–∞–º —Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è —Ä–æ–∂–¥–µ–Ω–∏—è?",
                'birth_city': "üèôÔ∏è –í–≤–µ–¥–∏—Ç–µ –≥–æ—Ä–æ–¥ —Ä–æ–∂–¥–µ–Ω–∏—è:"
            },
            'calculation': {
                'processing': "üîÆ *–†–∞—Å—á–µ—Ç –ë–∞–¶–∑—ã –∫–∞—Ä—Ç—ã...*\n\n‚è≥ –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ, —è –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ...",
                'description': "*–¢—ã ‚Äî –Ω–µ —Å–ª—É—á–∞–π–Ω—ã–π –Ω–∞–±–æ—Ä —á–µ—Ä—Ç!*\n\n–ë–∞-–¶–∑—ã —Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–≤–æ–µ–π –ª–∏—á–Ω–æ—Å—Ç–∏ –ø–æ –¥–∞—Ç–µ —Ä–æ–∂–¥–µ–Ω–∏—è –∏ –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –≥–¥–µ —Ç–≤–æ—è —Å–∏–ª–∞, –≤ —á–µ–º –∏ –∫–æ–≥–¥–∞ —Ç–≤–æ–π —Ä–æ—Å—Ç, –∏ –∫–∞–∫ –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Å–∞–º—ã–µ –≤–µ—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è.\n\n–ë–∞-—Ü–∑—ã - —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∞ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞ –ª–∏—á–Ω–æ—Å—Ç–∏, –æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ –º–Ω–æ–≥–æ —Ç—ã—Å—è—á–µ–ª–µ—Ç–Ω–∏—Ö –≤–æ—Å—Ç–æ—á–Ω–æ-–∞–∑–∏–∞—Ç—Å–∫–∏—Ö –º–æ–¥–µ–ª—è—Ö –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç–µ–π –≤—Ä–µ–º–µ–Ω–∏ –∏ —Ç–≤–æ–µ–π —É–Ω–∏–∫–∞–ª—å–Ω–æ–π –ø—Ä–∏—Ä–æ–¥—ã."
            },
            'results': {
                'card_ready': "üîÆ *–í–∞—à–∞ –∫–∞—Ä—Ç–∞ –ë–∞–¶–∑—ã –≥–æ—Ç–æ–≤–∞!*",
                'personality_question': "–•–æ—á–µ—à—å —É–∑–Ω–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ –æ —Å–≤–æ–µ–º —ç–ª–µ–º–µ–Ω—Ç–µ –ª–∏—á–Ω–æ—Å—Ç–∏?",
                'superpower_question': "–•–æ—á–µ—à—å —É–∑–Ω–∞—Ç—å —Å–≤–æ—é —Å—É–ø–µ—Ä—Å–∏–ª—É? –ö–∞—á–µ—Å—Ç–≤–∞, –∫–æ—Ç–æ—Ä—ã–µ —Ç–µ–±–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–∞—Ä—å–µ—Ä–µ?",
                'celebrities_question': "–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ, –∫—Ç–æ –∏–∑ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –ª—é–¥–µ–π –æ–±–ª–∞–¥–∞–µ—Ç —Ç–∞–∫–∏–º –∂–µ —Ç–∏–ø–æ–º –ª–∏—á–Ω–æ—Å—Ç–∏?",
                'advice_question': "–•–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∏—Ç—å —Å–æ–≤–µ—Ç –Ω–∞ –º–µ—Å—è—Ü?",
                'year_question': "–•–æ—Ç–∏—Ç–µ —É–∑–Ω–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ–æ–∫—É—Å—ã –∏ –∑–∞–¥–∞—á–∏ –Ω–∞ 2025 –≥–æ–¥?",
                'energy_question': "–•–æ—á–µ—à—å —É–∑–Ω–∞—Ç—å, –∫–∞–∫–∏–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–µ—Ä–≥–∏–∏ \"–í–∫–ª—é—á–µ–Ω—ã\" —É —Ç–µ–±—è –¥–æ –∫–æ–Ω—Ü–∞ 2025 –≥–æ–¥–∞? –ö–∞–∫–æ–≤—ã —Ç–≤–æ–∏ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–æ–∫—É—Å—ã –≤–Ω–∏–º–∞–Ω–∏—è –∏ –∑–∞–¥–∞—á–∏ –Ω–∞ 2025 –≥–æ–¥ –ø–æ —ç–ª–µ–º–µ–Ω—Ç—É –ª–∏—á–Ω–æ—Å—Ç–∏?"
            },
            'energy_section': {
                'main_energy': "–ò—Ç–∞–∫, —Ç–≤–æ—è –û–°–ù–û–í–ù–ê–Ø –≠–ù–ï–†–ì–ò–Ø –ì–û–î–ê, –ö–ê–ö –û–ù–ê –ù–ê –¢–ï–ë–Ø –í–õ–ò–Ø–ï–¢ –ò –ö–ê–ö–ò–ï –ü–†–ò–ù–û–°–ò–¢ –í–û–ó–ú–û–ñ–ù–û–°–¢–ò",
                'second_energy': "–ê —Ç–µ–ø–µ—Ä—å –æ—Ç–∫—Ä—ã–≤–∞—é –¥–ª—è —Ç–µ–±—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤—Ç–æ—Ä–æ–π —Ç–≤–æ–µ–π –≥–æ–¥–æ–≤–æ–π —ç–Ω–µ—Ä–≥–∏–∏ ‚Äî –≤–∞–∂–Ω–æ–π –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Å–≤–æ–∏—Ö —Å–∏–ª—å–Ω—ã—Ö —Å—Ç–æ—Ä–æ–Ω –∏–º–µ–Ω–Ω–æ –≤ —ç—Ç–æ –≤—Ä–µ–º—è.",
                'promo_text': "–≠—Ç–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –≤–∑—è—Ç—ã –∏–∑ –ê—Å—Ç—Ä–æ–ø—Ä–æ–≥–Ω–æ–∑–∞ –Æ–ª–∏–∏ –°–∫–∏–±—ã ¬´–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π 2025¬ª -—É–Ω–∏–∫–∞–ª—å–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã- –Ω–∞–≤–∏–≥–∞—Ç–æ—Ä–∞ –ø–æ —ç–Ω–µ—Ä–≥–∏—è–º –≥–æ–¥–∞, –∫–æ—Ç–æ—Ä–∞—è –µ–∂–µ–≥–æ–¥–Ω–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç –≤ –∫–∞–Ω—É–Ω –Ω–≥-–ø—Ä–∞–∑–¥–Ω–∏–∫–æ–≤ –∏ –ø–æ–º–æ–≥–∞–µ—Ç —Å–æ—Ç–Ω—è–º –ª—é–¥–µ–π –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–æ—ë –≤—Ä–µ–º—è –∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ.\n\nüíù –°–µ–≥–æ–¥–Ω—è –º—ã —Ä–µ—à–∏–ª–∏ –ø–æ–¥–∞—Ä–∏—Ç—å —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ —Ç–µ–±–µ.\n–í–µ–¥—å –¥–æ –∫–æ–Ω—Ü–∞ –≥–æ–¥–∞ –æ—Å—Ç–∞–ª–æ—Å—å –≤—Å–µ–≥–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Å—è—Ü–µ–≤, –∏ –±—ã–ª–æ –±—ã –∫–ª–∞—Å—Å–Ω–æ, —á—Ç–æ–±—ã –∫–∞–∫ –º–æ–∂–Ω–æ –±–æ–ª—å—à–µ –ª—é–¥–µ–π –æ—â—É—Ç–∏–ª–∏ —Å–∏–ª—É –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —ç–Ω–µ—Ä–≥–∏–∏ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –±—ã—Ç—å –±–æ–ª–µ–µ —Å—á–∞—Å—Ç–ª–∏–≤—ã–º–∏ –∏ –¥–æ—Å—Ç–∏–≥–∞—Ç—å —Å–≤–æ–∏—Ö —Ü–µ–ª–µ–π.",
                'continue_question': "–ü—Ä–æ–¥–æ–ª–∂–∏–º?",
                'impression_question': "–¢–µ–±–µ –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å? –æ—Ç–∑—ã–≤–∞–µ—Ç—Å—è? –ß—É–≤—Å—Ç–≤—É–µ—à—å –≤–ª–∏—è–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–π?"
            },
            'analysis': {
                'detailed_offer': "–•–æ—Ç–∏—Ç–µ –∑–∞–≥–ª—è–Ω—É—Ç—å –≥–ª—É–±–∂–µ –≤ —Å–≤–æ—é –∫–∞—Ä—Ç—É –ë–∞–¶–∑—ã?\n\n–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Ä–∞–∑–±–æ—Ä –≤—Å–µ—Ö —á–µ—Ç—ã—Ä—ë—Ö —Å—Ç–æ–ª–ø–æ–≤ –ø–æ–º–æ–∂–µ—Ç –ø–æ–Ω—è—Ç—å –≤–∞—à–∏ —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã, –∂–∏–∑–Ω–µ–Ω–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã –∏ —Ç–æ, –∫—É–¥–∞ –ª—É—á—à–µ –Ω–∞–ø—Ä–∞–≤–∏—Ç—å —ç–Ω–µ—Ä–≥–∏—é.\n\n–≠—Ç–æ –∫–∞–∫ –ª–∏—á–Ω—ã–π –Ω–∞–≤–∏–≥–∞—Ç–æ—Ä –∫ —É—Å–ø–µ—Ö—É –∏ –≥–∞—Ä–º–æ–Ω–∏–∏.",
                'full_analysis_offer': "–•–æ—Ç–∏—Ç–µ —É–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ –æ –≤–∞—à–µ–π –∫–∞—Ä—Ç–µ –ë–∞–¶–∑—ã?\n–°–¥–µ–ª–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Ä–∞–∑–±–æ—Ä —Å —É—á—ë—Ç–æ–º –≤—Å–µ—Ö —á–µ—Ç—ã—Ä—ë—Ö —Å—Ç–æ–ª–ø–æ–≤ (–≥–æ–¥, –º–µ—Å—è—Ü, –¥–µ–Ω—å, —á–∞—Å), —É–∑–Ω–∞—Ç—å –º–Ω–æ–≥–æ –∏–Ω—Ñ–æ –æ —Å–µ–±–µ, —Å–≤–æ–∏—Ö –∂–∏–∑–Ω–µ–Ω–Ω—ã—Ö –ø–µ—Ä–∏–æ–¥–∞—Ö, –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö, –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–µ –∏ –ø–æ–Ω—è—Ç—å, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç–Ω–µ—Ä–≥–∏—é –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –¥–ª—è —É—Å–ø–µ—Ö–∞. üåø"
            },
            'completion': {
                'thank_you': "üéâ *–°–ø–∞—Å–∏–±–æ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞ –ë–∞–¶–∑—ã!*\n\n–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∫–∞—Ä—Ç—É –∏–ª–∏ –ø–æ–ª—É—á–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É /start",
                'maybe_later': "–ü–æ–Ω—è—Ç–Ω–æ! –ö–æ–≥–¥–∞ –±—É–¥–µ—Ç–µ –≥–æ—Ç–æ–≤—ã —É–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ –æ —Å–≤–æ–∏—Ö —ç–Ω–µ—Ä–≥–∏—è—Ö, –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ /start",
                'additional_text': "‚ú® ¬´–ö—Å—Ç–∞—Ç–∏‚Ä¶ –¥–æ –∫–æ–Ω—Ü–∞ –≥–æ–¥–∞ –æ—Å—Ç–∞–ª–æ—Å—å —Å–æ–≤—Å–µ–º –Ω–µ–º–Ω–æ–≥–æ –¥—Ä–∞–≥–æ—Ü–µ–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.\n–û–Ω–æ –º–æ–∂–µ—Ç –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–ª–µ—Ç–µ—Ç—å ‚Äî –∏ —Ç—ã –¥–∞–∂–µ –Ω–µ –∑–∞–º–µ—Ç–∏—à—å.\n\n–ê –º–æ–∂–µ—à—å 2-3 –º–µ—Å—è—Ü–∞ –ø–æ–¥—Ä—è–¥ –¥–µ—Ä–∂–∞—Ç—å —Ñ–æ–∫—É—Å –Ω–∞ –æ–¥–Ω–æ–º-–¥–≤—É—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö, –∫–æ—Ç–æ—Ä—ã–µ –≤–µ–¥—É—Ç —Ç–µ–±—è –∫ —Ç–≤–æ–µ–π —Ü–µ–ª–∏, —Ç–æ–≥–¥–∞ —Å–æ–≥–ª–∞—Å–Ω–æ –≤—Å–µ—Ö –º–µ—Ç–æ–¥–∏–∫ - —Ç—ã –ø–æ–ª—É—á–∞–µ—à—å –∂–µ–ª–∞–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ. üå±"
            }
        }
    
    def _get_static_strategy_templates(self) -> Dict:
        """–°—Ç–∞—Ç–∏—á–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –ø–æ —ç–ª–µ–º–µ–Ω—Ç–∞–º"""
        return {
            '–î–µ—Ä–µ–≤–æ': {
                '–Ø–Ω': {
                    'strategy': "–†–µ—à–∏–º–æ—Å—Ç—å = —É—Å–ø–µ—Ö",
                    'focus': "–ø—Ä–æ—Ä—ã–≤—ã, —à–∞–≥–∏ —á–µ—Ä–µ–∑ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è",
                    'action': "–î–µ–π—Å—Ç–≤—É–π –Ω–∞–ø–æ—Ä–æ–º, –ø—Ä–æ–±–∏–≤–∞–π –Ω–æ–≤—ã–µ –Ω–∏—à–∏, –±–µ—Ä–∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å",
                    'key_points': [
                        "–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–π—Ç–µ—Å—å –∑–∞ —Å—á–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –≤—ã—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è –≤–∑–∞–∏–º–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–π —Å –ª—é–¥—å–º–∏",
                        "–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç—å",
                        "–£–º–µ–Ω–∏–µ –≥–æ–≤–æ—Ä–∏—Ç—å ¬´–Ω–µ—Ç¬ª –¥—Ä—É–≥–∏–º",
                        "–°—Ñ–æ–∫—É—Å–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ —Å–∞–º–æ—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ, –Ω–æ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–µ —Ñ–∏–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞",
                        "–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ–ø–ª–æ—â–µ–Ω–∏–µ –∏–¥–µ–π",
                        "–ù–æ–≤—ã–µ –ø—Ä–æ–µ–∫—Ç—ã –∏ –Ω–∞—á–∏–Ω–∞–Ω–∏—è"
                    ]
                },
                '–ò–Ω—å': {
                    'strategy': "–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ = —Ä–æ—Å—Ç",
                    'focus': "—Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ, –º–µ–ª–∫–∏–µ —à–∞–≥–∏, —Ç–æ–Ω–∫–∏–µ —Å–≤—è–∑–∏",
                    'action': "–ò—â–∏ –Ω–æ–≤—ã–µ –ø—É—Ç–∏, –∏—Å–ø–æ–ª—å–∑—É–π –º–µ–ª–∫–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, –≤–ø–ª–µ—Ç–∞–π —Å–µ–±—è –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–µ",
                    'key_points': [
                        "–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–∏—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ –ª—é–¥–µ–π",
                        "–ü–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–∞",
                        "–ö–æ–º–∞–Ω–¥—ã –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ",
                        "–î–µ–π—Å—Ç–≤—É–π—Ç–µ!!!! –∏ —Ä–µ–∞–ª–∏–∑—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç—ã –∏ –∏–¥–µ–∏",
                        "–ò–¥–∏—Ç–µ –∑–∞ —Å–≤–æ–∏–º –º–Ω–µ–Ω–∏–µ–º, –¥–∞–∂–µ –≤–æ–ø—Ä–µ–∫–∏ —á—É–∂–æ–º—É",
                        "–ê–∫—Ç–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–ª–∞–Ω–æ–≤"
                    ]
                }
            },
            '–û–≥–æ–Ω—å': {
                '–Ø–Ω': {
                    'strategy': "–í–ª–∏—è–Ω–∏–µ = —Å–∏–ª–∞",
                    'focus': "–ø—É–±–ª–∏—á–Ω–æ—Å—Ç—å, –ª–∏–¥–µ—Ä—Å—Ç–≤–æ, –º–∞—Å—à—Ç–∞–±",
                    'action': "–í—ã—Ö–æ–¥–∏ –≤ –ª—é–¥–∏, –≤–µ–¥–∏ –∑–∞ —Å–æ–±–æ–π, –ø—Ä–µ–∑–µ–Ω—Ç—É–π",
                    'key_points': [
                        "–û–±—Ä–∞—â–∞–π—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –∑–Ω–∞–Ω–∏—è –∏ –¥–µ—Ç–∞–ª–∏",
                        "–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ –∏ —Ä–µ–ø—É—Ç–∞—Ü–∏—è",
                        "–û–±—É—á–µ–Ω–∏–µ",
                        "–ó–¥–æ—Ä–æ–≤—å–µ –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Ä–µ—Å—É—Ä—Å—ã",
                        "–ü–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–∞ –∏ –∫–æ–º–∞–Ω–¥—ã",
                        "–ö–æ–º–∞–Ω–¥—ã –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ",
                        "–ë—ã—Ç –æ–±—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, –≤–Ω–∏–º–∞–Ω–∏–µ",
                        "–†–æ–¥–∏—Ç–µ–ª–∏"
                    ]
                },
                '–ò–Ω—å': {
                    'strategy': "–ö—Ä–µ–∞—Ç–∏–≤ = –∫–∞–ø–∏—Ç–∞–ª",
                    'focus': "–∏–¥–µ–∏, –ø—Ä–æ–µ–∫—Ç—ã, —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å",
                    'action': "–°–æ–∑–¥–∞–≤–∞–π –ø—Ä–æ–¥—É–∫—Ç—ã, –ø–æ–¥–∞–≤–∞–π —Å–µ–±—è –Ω–µ–æ–±—ã—á–Ω–æ, —É–ø–∞–∫–æ–≤—ã–≤–∞–π –∫—Ä–∞—Å–∏–≤–æ",
                    'key_points': [
                        "–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –∂–∏–∑–Ω–µ–Ω–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –∏ —Å–∏—Å—Ç–µ–º",
                        "–ü—Ä–∏—Å–ª—É—à–∏–≤–∞–π—Ç–µ—Å—å –∫ —Å–µ–±–µ",
                        "–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ –∏ —Ä–µ–ø—É—Ç–∞—Ü–∏—è",
                        "–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–π—Ç–µ—Å—å –∑–∞ —Å—á–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –≤—ã—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è –≤–∑–∞–∏–º–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–π —Å –ª—é–¥—å–º–∏",
                        "–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç—å",
                        "–£–º–µ–Ω–∏–µ –≥–æ–≤–æ—Ä–∏—Ç—å ¬´–Ω–µ—Ç¬ª –¥—Ä—É–≥–∏–º",
                        "–ó–¥–æ—Ä–æ–≤—å–µ",
                        "–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–æ–¥–∏—Ç–µ–ª–µ–π"
                    ]
                }
            },
            '–ó–µ–º–ª—è': {
                '–Ø–Ω': {
                    'strategy': "–ü–æ–¥–¥–µ—Ä–∂–∫–∞ = —Ä–µ—Å—É—Ä—Å",
                    'focus': "–∫—Ä—É–ø–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã, —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ —Å–≤—è–∑–∏",
                    'action': "–û–ø–∏—Ä–∞–π—Å—è –Ω–∞ —Å–∏–ª—å–Ω—ã—Ö –ª—é–¥–µ–π –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, —É–∫—Ä–µ–ø–ª—è–π –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏",
                    'key_points': [
                        "–§–æ–∫—É—Å –Ω–∞ –∫–∞—Ä—å–µ—Ä—É –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è",
                        "–ê–≤—Ç–æ—Ä–∏—Ç–µ—Ç",
                        "–û—Ç–Ω–æ—à–µ–Ω–∏—è –¥–ª—è –∂–µ–Ω—â–∏–Ω",
                        "–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ –∏ —Ä–µ–ø—É—Ç–∞—Ü–∏—è",
                        "–ó–∞—á–∞—Ç–∏–µ –¥–ª—è –∂–µ–Ω—â–∏–Ω",
                        "–î–µ—Ç–∏ –¥–ª—è –º—É–∂—á–∏–Ω"
                    ]
                },
                '–ò–Ω—å': {
                    'strategy': "–ö–æ–Ω—Ç—Ä–æ–ª—å = —Ä–µ–∑—É–ª—å—Ç–∞—Ç",
                    'focus': "–¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞, —Å–∏—Å—Ç–µ–º–∞, –¥–æ–≤–µ–¥–µ–Ω–∏–µ –¥–æ –∫–æ–Ω—Ü–∞",
                    'action': "–°–æ—Å—Ç–∞–≤–ª—è–π —á—ë—Ç–∫–∏–π –ø–ª–∞–Ω –∏ –¥–µ—Ä–∂–∏ –ø—Ä–æ—Ü–µ—Å—Å—ã –ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º",
                    'key_points': [
                        "–ü–µ—Ä–∏–æ–¥ –Ω–æ–≤—ã—Ö —Å—Ç–∞—Ç—É—Å–æ–≤ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π",
                        "–ö–∞—Ä—å–µ—Ä–∞, —Å–æ—Ü —Å—Ç–∞—Ç—É—Å",
                        "–û—Ç–Ω–æ—à–µ–Ω–∏—è –¥–ª—è –∂–µ–Ω—â–∏–Ω",
                        "–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ –∏ —Ä–µ–ø—É—Ç–∞—Ü–∏—è",
                        "–û–±—É—á–µ–Ω–∏–µ",
                        "–ó–¥–æ—Ä–æ–≤—å–µ –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Ä–µ—Å—É—Ä—Å—ã",
                        "–ó–∞—á–∞—Ç–∏–µ –¥–ª—è –∂–µ–Ω—â–∏–Ω",
                        "–î–µ—Ç–∏ –¥–ª—è –º—É–∂—á–∏–Ω"
                    ]
                }
            },
            '–ú–µ—Ç–∞–ª–ª': {
                '–Ø–Ω': {
                    'strategy': "–ö–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è = —Ä–æ—Å—Ç",
                    'focus': "—Ä—ã–Ω–æ–∫, —Å–æ–ø–µ—Ä–Ω–∏–∫–∏, —Ç–≤–æ–π —É—Ä–æ–≤–µ–Ω—å",
                    'action': "–ü—Ä–æ—è–≤–ª—è–π—Å—è –∞–∫—Ç–∏–≤–Ω–æ, –æ—Ç—Å—Ç–∞–∏–≤–∞–π –ø–æ–∑–∏—Ü–∏—é, –±–µ—Ä–∏ —Ç–æ, —á—Ç–æ —Ö–æ—á–µ—à—å",
                    'key_points': [
                        "–§–æ–∫—É—Å –Ω–∞ —Ñ–∏–Ω–∞–Ω—Å—ã –∏ —á–µ—Ç–∫–∏–µ —Ü–µ–ª–∏",
                        "–ó–∞—Ä–∞–±–æ—Ç–æ–∫",
                        "–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏",
                        "–ü–µ—Ä–∏–æ–¥ –Ω–æ–≤—ã—Ö —Å—Ç–∞—Ç—É—Å–æ–≤ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π",
                        "–ö–∞—Ä—å–µ—Ä–∞",
                        "–û—Ç–Ω–æ—à–µ–Ω–∏—è –¥–ª—è –º—É–∂—á–∏–Ω",
                        "–û—Ç–Ω–æ—à–µ–Ω–∏—è –¥–ª—è –∂–µ–Ω—â–∏–Ω"
                    ]
                },
                '–ò–Ω—å': {
                    'strategy': "–õ—é–¥–∏ = –¥–µ–Ω—å–≥–∏",
                    'focus': "–ø—Ä–æ–¥–∞–∂–∏, –∫–ª–∏–µ–Ω—Ç—ã, –∫–æ–º–∞–Ω–¥–∞",
                    'action': "–ò—â–∏ –Ω–æ–≤—ã—Ö –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤, —Ä–∞—Å—à–∏—Ä—è–π –∫–æ–Ω—Ç–∞–∫—Ç—ã, –º–æ–Ω–µ—Ç–∏–∑–∏—Ä—É–π –æ–±—â–µ–Ω–∏–µ",
                    'key_points': [
                        "–í—Ä–µ–º—è –¥–ª—è –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∏–Ω –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π",
                        "–ù–æ–≤—ã–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏",
                        "–ü–æ–∏—Å–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –∑–∞—Ä–∞–±–æ—Ç–∫–∞",
                        "–ö–∞—Ä—å–µ—Ä–∞ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è",
                        "–ê–≤—Ç–æ—Ä–∏—Ç–µ—Ç",
                        "–û—Ç–Ω–æ—à–µ–Ω–∏—è –¥–ª—è –º—É–∂—á–∏–Ω",
                        "–û—Ç–Ω–æ—à–µ–Ω–∏—è –¥–ª—è –∂–µ–Ω—â–∏–Ω"
                    ]
                }
            },
            '–í–æ–¥–∞': {
                '–Ø–Ω': {
                    'strategy': "–ü–æ—Ç–æ–∫ = –º–∞—Å—à—Ç–∞–±",
                    'focus': "–æ—Ö–≤–∞—Ç, —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ, –¥–≤–∏–∂–µ–Ω–∏–µ",
                    'action': "–ó–∞–ø—É—Å–∫–∞–π –º–∞—Å—à—Ç–∞–±–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã, —Ä–∞—Å—à–∏—Ä—è–π –≥–æ—Ä–∏–∑–æ–Ω—Ç—ã, –¥—É–º–∞–π –≥–ª–æ–±–∞–ª—å–Ω–æ",
                    'key_points': [
                        "–î–µ–π—Å—Ç–≤—É–π—Ç–µ!!!! –∏ —Ä–µ–∞–ª–∏–∑—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç—ã –∏ –∏–¥–µ–∏",
                        "–ò–¥–∏—Ç–µ –∑–∞ —Å–≤–æ–∏–º –º–Ω–µ–Ω–∏–µ–º, –¥–∞–∂–µ –≤–æ–ø—Ä–µ–∫–∏ —á—É–∂–æ–º—É",
                        "–î–ª—è –∂–µ–Ω—â–∏–Ω –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–µ—Ç–æ—Ä–æ–∂–¥–µ–Ω–∏—è",
                        "–í—Ä–µ–º—è –¥–ª—è –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∏–Ω –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π",
                        "–ù–æ–≤—ã–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏",
                        "–ü–æ–∏—Å–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –∑–∞—Ä–∞–±–æ—Ç–∫–∞"
                    ]
                },
                '–ò–Ω—å': {
                    'strategy': "–ì–∏–±–∫–æ—Å—Ç—å = —Ä–µ—Å—É—Ä—Å",
                    'focus': "—Å–≤—è–∑–∏, —Å–µ—Ç—å, –º—è–≥–∫–æ–µ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ",
                    'action': "–ò—Å–ø–æ–ª—å–∑—É–π –ø–µ—Ä–µ–≥–æ–≤–æ—Ä—ã, –ø–ª–∞–≤–Ω–æ—Å—Ç—å, ¬´–æ–±—Ç–µ–∫–∞–π¬ª —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è",
                    'key_points': [
                        "–°—Ñ–æ–∫—É—Å–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ —Å–∞–º–æ—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ, –Ω–æ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–µ —Ñ–∏–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞",
                        "–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ–ø–ª–æ—â–µ–Ω–∏–µ –∏–¥–µ–π",
                        "–î–µ–ª–∞–π—Ç–µ —Ç–æ, —á—Ç–æ –ø—Ä–∏–Ω–æ—Å–∏—Ç —Ä–∞–¥–æ—Å—Ç—å",
                        "–§–æ–∫—É—Å –Ω–∞ —Ñ–∏–Ω–∞–Ω—Å—ã –∏ —á–µ—Ç–∫–∏–µ —Ü–µ–ª–∏",
                        "–î–ª—è –∂–µ–Ω—â–∏–Ω –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–µ—Ç–æ—Ä–æ–∂–¥–µ–Ω–∏—è",
                        "–§–∏–Ω–∞–Ω—Å–æ–≤–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ"
                    ]
                }
            }
        }
    
    def get_formulation(self, category: str, key: str, **kwargs) -> str:
        """
        –ü–æ–ª—É—á–µ–Ω–∏–µ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –∫–ª—é—á—É
        
        Args:
            category: –ö–∞—Ç–µ–≥–æ—Ä–∏—è —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ (greeting, data_collection, etc.)
            key: –ö–ª—é—á —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏
            **kwargs: –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç—Ä–æ–∫–∏
        
        Returns:
            –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞
        """
        formulation = self.formulations.get(category, {}).get(key, "")
        
        if kwargs and formulation:
            try:
                return formulation.format(**kwargs)
            except KeyError:
                return formulation
        
        return formulation
    
    def get_strategy_template(self, element: str, polarity: str) -> Dict:
        """
        –ü–æ–ª—É—á–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–∞ –∏ –ø–æ–ª—è—Ä–Ω–æ—Å—Ç–∏
        
        Args:
            element: –≠–ª–µ–º–µ–Ω—Ç (–î–µ—Ä–µ–≤–æ, –û–≥–æ–Ω—å, –ó–µ–º–ª—è, –ú–µ—Ç–∞–ª–ª, –í–æ–¥–∞)
            polarity: –ü–æ–ª—è—Ä–Ω–æ—Å—Ç—å (–Ø–Ω, –ò–Ω—å)
        
        Returns:
            –°–ª–æ–≤–∞—Ä—å —Å —à–∞–±–ª–æ–Ω–æ–º —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
        """
        return self.strategy_templates.get(element, {}).get(polarity, {})
    
    def format_strategy_message(self, element: str, polarity: str) -> str:
        """
        –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–∞
        
        Args:
            element: –≠–ª–µ–º–µ–Ω—Ç –ª–∏—á–Ω–æ—Å—Ç–∏
            polarity: –ü–æ–ª—è—Ä–Ω–æ—Å—Ç—å —ç–ª–µ–º–µ–Ω—Ç–∞
        
        Returns:
            –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π
        """
        template = self.get_strategy_template(element, polarity)
        
        if not template:
            return "–°—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞."
        
        message = f"üéØ *–°—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–ª—è {element} {polarity}*\n\n"
        message += f"üìã *{template.get('strategy', '')}*\n\n"
        message += f"‚ö° *–§–æ–∫—É—Å:* {template.get('focus', '')}\n"
        message += f"üõ† *–î–µ–π—Å—Ç–≤–∏–µ:* {template.get('action', '')}\n\n"
        
        key_points = template.get('key_points', [])
        if key_points:
            message += "üîπ *–ö–ª—é—á–µ–≤—ã–µ —Ç–æ—á–∫–∏:*\n"
            for point in key_points:
                message += f"‚Ä¢ {point}\n"
        
        return message
    
    def get_energy_description(self, element: str, polarity: str) -> str:
        """
        –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è —ç–Ω–µ—Ä–≥–∏–∏ –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–∞
        
        Args:
            element: –≠–ª–µ–º–µ–Ω—Ç –ª–∏—á–Ω–æ—Å—Ç–∏
            polarity: –ü–æ–ª—è—Ä–Ω–æ—Å—Ç—å —ç–ª–µ–º–µ–Ω—Ç–∞
        
        Returns:
            –û–ø–∏—Å–∞–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–∏
        """
        energy_descriptions = {
            '–î–µ—Ä–µ–≤–æ': {
                '–Ø–Ω': "–≠–Ω–µ—Ä–≥–∏—è —Ä–æ—Å—Ç–∞ –∏ —Ä–∞–∑–≤–∏—Ç–∏—è. –í—Ä–µ–º—è –¥–ª—è –Ω–æ–≤—ã—Ö –Ω–∞—á–∏–Ω–∞–Ω–∏–π –∏ –ø—Ä–æ—Ä—ã–≤–æ–≤.",
                '–ò–Ω—å': "–≠–Ω–µ—Ä–≥–∏—è –≥–∏–±–∫–æ—Å—Ç–∏ –∏ –∞–¥–∞–ø—Ç–∞—Ü–∏–∏. –í—Ä–µ–º—è –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞ –∏ —Ç–æ–Ω–∫–∏—Ö —Å–≤—è–∑–µ–π."
            },
            '–û–≥–æ–Ω—å': {
                '–Ø–Ω': "–≠–Ω–µ—Ä–≥–∏—è –ª–∏–¥–µ—Ä—Å—Ç–≤–∞ –∏ –≤–ª–∏—è–Ω–∏—è. –í—Ä–µ–º—è –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ—Å—Ç–∏ –∏ –º–∞—Å—à—Ç–∞–±–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.",
                '–ò–Ω—å': "–≠–Ω–µ—Ä–≥–∏—è —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–∞ –∏ —Å–∞–º–æ–≤—ã—Ä–∞–∂–µ–Ω–∏—è. –í—Ä–µ–º—è –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∏–¥–µ–π –∏ –ø—Ä–æ–µ–∫—Ç–æ–≤."
            },
            '–ó–µ–º–ª—è': {
                '–Ø–Ω': "–≠–Ω–µ—Ä–≥–∏—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏. –í—Ä–µ–º—è –¥–ª—è –∫—Ä—É–ø–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã—Ö –ø–ª–∞–Ω–æ–≤.",
                '–ò–Ω—å': "–≠–Ω–µ—Ä–≥–∏—è –∫–æ–Ω—Ç—Ä–æ–ª—è –∏ —Å–∏—Å—Ç–µ–º—ã. –í—Ä–µ–º—è –¥–ª—è –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—ã –∏ –¥–æ–≤–µ–¥–µ–Ω–∏—è –¥–µ–ª –¥–æ –∫–æ–Ω—Ü–∞."
            },
            '–ú–µ—Ç–∞–ª–ª': {
                '–Ø–Ω': "–≠–Ω–µ—Ä–≥–∏—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏–∏ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π. –í—Ä–µ–º—è –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø—Ä–æ—è–≤–ª–µ–Ω–∏—è –∏ –æ—Ç—Å—Ç–∞–∏–≤–∞–Ω–∏—è –ø–æ–∑–∏—Ü–∏–π.",
                '–ò–Ω—å': "–≠–Ω–µ—Ä–≥–∏—è –ª—é–¥–µ–π –∏ –¥–µ–Ω–µ–≥. –í—Ä–µ–º—è –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –∏ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏ –æ–±—â–µ–Ω–∏—è."
            },
            '–í–æ–¥–∞': {
                '–Ø–Ω': "–≠–Ω–µ—Ä–≥–∏—è –ø–æ—Ç–æ–∫–∞ –∏ –º–∞—Å—à—Ç–∞–±–∞. –í—Ä–µ–º—è –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –º—ã—à–ª–µ–Ω–∏—è –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–æ–≤.",
                '–ò–Ω—å': "–≠–Ω–µ—Ä–≥–∏—è –≥–∏–±–∫–æ—Å—Ç–∏ –∏ —Ä–µ—Å—É—Ä—Å–æ–≤. –í—Ä–µ–º—è –¥–ª—è –º—è–≥–∫–æ–≥–æ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è –∏ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–æ–≤."
            }
        }
        
        return energy_descriptions.get(element, {}).get(polarity, "–≠–Ω–µ—Ä–≥–∏—è –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞.")
    
    def get_monthly_focus(self, element: str, polarity: str) -> str:
        """
        –ü–æ–ª—É—á–µ–Ω–∏–µ —Ñ–æ–∫—É—Å–∞ –Ω–∞ –º–µ—Å—è—Ü –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–∞
        
        Args:
            element: –≠–ª–µ–º–µ–Ω—Ç –ª–∏—á–Ω–æ—Å—Ç–∏
            polarity: –ü–æ–ª—è—Ä–Ω–æ—Å—Ç—å —ç–ª–µ–º–µ–Ω—Ç–∞
        
        Returns:
            –§–æ–∫—É—Å –Ω–∞ –º–µ—Å—è—Ü
        """
        monthly_focus = {
            '–î–µ—Ä–µ–≤–æ': {
                '–Ø–Ω': "–ü—Ä–æ—Ä—ã–≤—ã –∏ –Ω–æ–≤—ã–µ –Ω–∞—á–∏–Ω–∞–Ω–∏—è",
                '–ò–Ω—å': "–°–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ –∏ —Ç–æ–Ω–∫–∏–µ —Å–≤—è–∑–∏"
            },
            '–û–≥–æ–Ω—å': {
                '–Ø–Ω': "–õ–∏–¥–µ—Ä—Å—Ç–≤–æ –∏ –ø—É–±–ª–∏—á–Ω–æ—Å—Ç—å",
                '–ò–Ω—å': "–¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ –∏ —Å–∞–º–æ–≤—ã—Ä–∞–∂–µ–Ω–∏–µ"
            },
            '–ó–µ–º–ª—è': {
                '–Ø–Ω': "–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞",
                '–ò–Ω—å': "–ö–æ–Ω—Ç—Ä–æ–ª—å –∏ —Å–∏—Å—Ç–µ–º–∞"
            },
            '–ú–µ—Ç–∞–ª–ª': {
                '–Ø–Ω': "–ö–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è",
                '–ò–Ω—å': "–õ—é–¥–∏ –∏ –¥–µ–Ω—å–≥–∏"
            },
            '–í–æ–¥–∞': {
                '–Ø–Ω': "–ü–æ—Ç–æ–∫ –∏ –º–∞—Å—à—Ç–∞–±",
                '–ò–Ω—å': "–ì–∏–±–∫–æ—Å—Ç—å –∏ —Ä–µ—Å—É—Ä—Å—ã"
            }
        }
        
        return monthly_focus.get(element, {}).get(polarity, "–§–æ–∫—É—Å –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω.")
